'use client';
import { useState } from 'react';

// 가이드 데이터를 컴포넌트 외부 또는 별도 파일로 분리할 수 있습니다.
const guideData = {
    'article-1': {
        title: "투자 명언 | 워렌 버핏이 말하는 '10년 보유할 주식'의 진짜 의미",
        summary: '"10년 동안 보유할 주식이 아니라면, 10분도 보유하지 마라." 이 명언을 주린이는 어떻게 해석해야 할까요?',
        content: `
            <h3>"10년 동안 보유할 주식이 아니라면, 10분도 보유하지 마라."</h3>
            <p>워렌 버핏의 이 유명한 명언은 주식 투자의 핵심 철학을 담고 있습니다. 많은 주린이들이 단기적인 주가 변동에 일희일비하며 잦은 매매를 반복하는 실수를 저지릅니다. 하지만 버핏은 투자를 '사업의 일부를 소유하는 것'으로 보라고 조언합니다.</p>
            <p>이 명언의 진짜 의미는 다음과 같습니다:</p>
            <ul>
                <li><strong>장기적인 안목을 가져라:</strong> 내가 투자하는 회사가 10년 뒤에도 굳건히 성장할 것이라는 믿음이 있는가? 단지 유행이라는 이유로, 혹은 누군가의 추천만으로 주식을 사서는 안 됩니다.</li>
                <li><strong>회사의 가치를 분석하라:</strong> 주가가 아닌 회사의 본질적인 가치(사업 모델, 경쟁력, 재무 상태 등)를 보고 투자해야 합니다. 좋은 회사의 주식은 단기적으로는 시장 상황에 따라 흔들릴 수 있지만, 장기적으로는 결국 가치를 찾아가게 됩니다.</li>
                <li><strong>단기 변동성에 흔들리지 마라:</strong> 10년을 내다보고 투자했다면, 오늘 내일의 주가 하락에 패닉에 빠져 주식을 팔 이유가 없습니다. 오히려 좋은 회사의 주식을 더 싸게 살 기회가 될 수도 있습니다.</li>
            </ul>
            <p>물론 모든 주식을 10년 동안 보유해야 한다는 뜻은 아닙니다. 하지만 적어도 그 정도의 확신을 가질 수 있는 회사에만 신중하게 투자하라는 것이 이 명언의 핵심입니다. 우리 사이트의 <strong>유용한 사이트</strong> 메뉴에 있는 DART에서 회사의 사업보고서를 꼭 읽어보는 습관을 들여보세요!</p>
        `
    },
    'article-2': {
        title: "초보자를 위한 배당주 투자, A부터 Z까지",
        summary: '배당금이 무엇인지, 어떻게 투자해야 하는지 알려드려요.',
        content: `
            <h3>은행 예금보다 나은 배당주 투자?</h3>
            <p>배당주 투자는 주가의 상승으로 인한 시세차익과 더불어, 회사가 벌어들인 이익의 일부를 주주들에게 '배당금'으로 나누어주는 것을 받을 수 있어 매력적인 투자 방법입니다.</p>
            <p>배당주 투자를 시작하기 전에 알아야 할 것들:</p>
            <ol>
                <li><strong>배당수익률 확인하기:</strong> 내가 투자할 금액 대비 얼마나 많은 배당금을 받을 수 있는지를 나타내는 지표입니다. (1주당 배당금 ÷ 현재 주가) X 100% 로 계산할 수 있죠. 저희 <strong>배당금 계산기</strong>를 이용하면 쉽게 확인할 수 있습니다.</li>
                <li><strong>꾸준히 배당을 주는가?:</strong> 일회성으로 높은 배당을 주는 회사보다는, 수년간 꾸준히 배당금을 지급해 온 역사가 있는 회사가 더 안정적입니다.</li>
                <li><strong>배당성향:</strong> 회사가 번 돈(순이익) 중에서 얼마나 주주에게 돌려주는지를 나타냅니다. 너무 높으면 회사가 성장을 위한 재투자를 안 한다는 의미일 수 있고, 너무 낮으면 주주에게 인색하다고 볼 수 있습니다.</li>
            </ol>
            <p>안정적인 현금 흐름을 만들고 싶다면, 배당주 투자는 훌륭한 선택지가 될 수 있습니다.</p>
        `
    },
    'article-3': {
        title: "주식 물타기, 독이 될까 약이 될까?",
        summary: '물타기의 장단점과 현명하게 사용하는 법을 알아봐요.',
        content: `
            <h3>물타기, 희망고문인가 탈출 기회인가?</h3>
            <p>물타기(평균 단가 낮추기)는 많은 투자자들이 사용하는 전략이지만, 양날의 검과 같습니다. 잘못 사용하면 손실만 키울 수 있기 때문입니다.</p>
            <h4>물타기의 장점</h4>
            <p>가장 큰 장점은 평균 매수 단가를 낮춰 주가가 조금만 반등해도 빠르게 원금을 회복하거나 수익으로 전환할 수 있다는 점입니다. 저희 <strong>물타기 계산기</strong>로 시뮬레이션 해보면 그 효과를 체감할 수 있습니다.</p>
            <h4>물타기의 위험성</h4>
            <p>가장 큰 위험은 '펀더멘탈(회사의 기초 체력)'이 나빠져서 주가가 하락하는 경우입니다. 이런 상황에서 물타기를 하는 것은 '떨어지는 칼날을 잡는 것'과 같습니다. 손실이 눈덩이처럼 불어날 수 있죠.</p>
            <h4>현명한 물타기 원칙</h4>
            <ul>
                <li><strong>확신이 있는 회사에만 하라:</strong> 회사의 장기적인 성장성에 대한 믿음이 변하지 않았을 때만 물타기를 고려해야 합니다.</li>
                <li><strong>계획적으로 하라:</strong> 감정적으로 '더 떨어졌으니 사야지'가 아니라, -20% 하락 시 1차 매수, -40% 하락 시 2차 매수와 같이 명확한 계획을 세워야 합니다.</li>
                <li><strong>비중을 지켜라:</strong> 한 종목에 너무 많은 돈을 쏟아붓는 것은 위험합니다.</li>
            </ul>
            <p>물타기는 전략이지, 기도하는 행위가 되어서는 안 됩니다. 여러분의 물타기 시나리오를 <strong>물타기 짤 생성기</strong>로 만들어 친구들과 공유하며 토론해보는 건 어떨까요?</p>
        `
    },
    'article-4': {
        title: "주식 계좌 개설, 어디서부터 시작해야 할까? (증권사 선택 팁)",
        summary: '투자의 첫걸음! 나에게 맞는 증권사 계좌를 고르는 현실적인 팁을 알려드려요.',
        content: `
            <h3>투자의 첫걸음, 증권사 계좌 개설</h3>
            <p>주식 투자를 시작하기로 마음먹었다면 가장 먼저 해야 할 일은 바로 증권사 계좌를 만드는 것입니다. 은행 계좌처럼, 주식을 사고팔 돈을 보관하고 거래를 기록하는 나만의 계좌가 필요합니다. 요즘은 대부분 비대면으로 스마트폰에서 5분이면 만들 수 있습니다.</p>
            <h4>어떤 증권사를 선택해야 할까요?</h4>
            <p>수많은 증권사 앞에서 고민이 될 수 있습니다. 아래 세 가지 기준을 참고해서 나에게 맞는 곳을 선택해 보세요.</p>
            <ol>
                <li><strong>거래 수수료:</strong> 요즘 대부분의 증권사들은 신규 고객을 대상으로 '평생 수수료 무료' 같은 파격적인 이벤트를 진행합니다. 하지만 이벤트 조건이나 기간을 꼼꼼히 확인하고, 장기적으로 사용할 때의 수수료도 비교해보는 것이 좋습니다.</li>
                <li><strong>MTS/HTS 편의성:</strong> MTS(모바일 앱)와 HTS(PC 프로그램)는 우리가 실제로 주식을 사고파는 도구입니다. 디자인이 깔끔하고 내가 사용하기에 편리한 것이 최고입니다. 여러 증권사 앱을 설치해보고 직접 눈으로 확인하는 것을 추천합니다.</li>
                <li><strong>이벤트 및 혜택:</strong> 신규 계좌를 개설하면 1주를 무료로 주거나, 투자 지원금을 주는 이벤트도 많습니다. 이런 혜택을 잘 활용하는 것도 현명한 시작 방법입니다.</li>
            </ol>
            <p>사실 '무조건 좋은' 증권사는 없습니다. 나에게 가장 잘 맞는 증권사가 있을 뿐이죠. 너무 오래 고민하기보다는, 일단 마음에 드는 곳에서 시작하며 투자와 친해지는 것이 더 중요합니다!</p>
        `
    },
    'article-5': {
        title: "삼성전자 1주 사는 법 (실전 MTS 주문 가이드)",
        summary: "'국민주' 삼성전자, 직접 내 손으로 사보는 아주 구체적인 방법을 알려드려요.",
        content: `
            <h3>내 손으로 직접 사보는 삼성전자 1주</h3>
            <p>계좌를 만들었다면, 이제 직접 주식을 사볼 차례입니다. 가장 친숙한 '삼성전자'를 예시로 주문 과정을 차근차근 알려드릴게요. 대부분의 증권사 앱(MTS)은 과정이 비슷합니다.</p>
            <ol>
                <li><strong>증권사 앱 접속 및 로그인:</strong> 먼저 사용하시는 증권사 앱을 켜고 로그인합니다.</li>
                <li><strong>예수금 확인:</strong> 주식을 사려면 돈이 필요하겠죠? 내 계좌에 돈이 얼마 있는지 확인합니다. 이 돈을 바로 <strong>예수금</strong>이라고 부릅니다.</li>
                <li><strong>종목 검색:</strong> 앱 상단의 돋보기 모양 검색창에 '삼성전자'를 입력하고 검색합니다.</li>
                <li><strong>매수 주문 넣기:</strong> '매수' 또는 '사자' 버튼을 누릅니다. 여기서 몇 주를 살지(수량), 얼마에 살지(가격)를 정해야 합니다.
                    <ul>
                        <li><strong>지정가:</strong> 내가 원하는 가격을 직접 입력하는 방식입니다. (예: 75,000원에 1주)</li>
                        <li><strong>시장가:</strong> 가격을 정하지 않고, 지금 바로 살 수 있는 가장 좋은 가격으로 즉시 주문하는 방식입니다.</li>
                    </ul>
                    초보자라면 원하는 가격을 정해 '지정가'로 주문하는 연습을 해보는 것을 추천합니다.
                </li>
                <li><strong>주문 체결 확인:</strong> 주문을 넣고 나면 '미체결' 상태로 표시됩니다. 내가 지정한 가격에 주식을 팔려는 사람이 나타나면 거래가 성사되며 '체결' 상태로 바뀝니다.</li>
            </ol>
            <p>축하합니다! 이제 여러분도 삼성전자의 주주가 되었습니다. 작은 성공의 경험이 앞으로의 투자 여정에 큰 힘이 될 것입니다.</p>
        `
    },
    'article-6': {
        title: "투자 포트폴리오, 계란을 한 바구니에 담지 마세요!",
        summary: '왜 분산 투자가 중요한지, 주린이가 이해하기 쉽게 설명해 드려요.',
        content: `
            <h3>"계란을 한 바구니에 담지 마라"</h3>
            <p>투자의 세계에서 가장 유명한 격언 중 하나입니다. 만약 계란이 가득 담긴 바구니를 들고 가다 넘어지면 어떻게 될까요? 모든 계란이 깨져버릴 겁니다. 하지만 여러 바구니에 계란을 나누어 담았다면, 하나를 떨어뜨려도 나머지 바구니의 계란은 안전하겠죠.</p>
            <p>주식 투자도 마찬가지입니다. 내가 가진 모든 돈을 단 하나의 종목에 '몰빵'하는 것은 매우 위험합니다. 그 회사의 주가가 떨어지면 내 자산 전체가 큰 타격을 입기 때문입니다. 이것이 바로 **분산 투자(포트폴리오 구성)**가 필요한 이유입니다.</p>
            <h4>주린이를 위한 간단한 포트폴리오 예시</h4>
            <p>분산 투자가 어렵게 느껴진다면, 성격이 다른 몇 개의 회사에 나누어 투자한다고 생각해보세요.</p>
            <ul>
                <li><strong>안정적인 대형주 (방어):</strong> 삼성전자처럼 우리나라를 대표하고, 시장 전체가 흔들려도 상대적으로 잘 버텨주는 든든한 회사.</li>
                <li><strong>성장 가능성 있는 기술주 (공격):</strong> 지금은 조금 불안정해 보여도, 미래에 크게 성장할 가능성이 있는 IT나 바이오 회사.</li>
                <li><strong>따박따박 배당주 (현금 흐름):</strong> 은행 이자처럼 꾸준히 배당금을 주는 통신사나 금융 회사. 저희 <strong>배당금 계산기</strong>로 수익률을 확인해보세요.</li>
            </ul>
            <p>위는 단순한 예시일 뿐, 정답은 없습니다. 중요한 것은 '몰빵 투자'의 위험성을 인지하고, 나만의 투자 원칙을 세워 자산을 안전하게 지키고 불려나가는 것입니다.</p>
        `
    }
};

export default function Guide() {
    const [selectedArticle, setSelectedArticle] = useState<string | null>(null);

    const showArticle = (articleId: string) => {
        setSelectedArticle(articleId);
    };

    const showGuideList = () => {
        setSelectedArticle(null);
    };

    if (selectedArticle && guideData[selectedArticle as keyof typeof guideData]) {
        const article = guideData[selectedArticle as keyof typeof guideData];
        return (
            <div className="tool-card">
                <button className="back-to-list-btn" onClick={showGuideList}>&#8592; 목록으로</button>
                <h2 id="article-title">{article.title}</h2>
                <div id="article-content" className="policy-container" dangerouslySetInnerHTML={{ __html: article.content }} />
            </div>
        );
    }

    return (
        <div className="tool-card">
            <div id="guide-list-view">
                <h2>📝 주린이 가이드</h2>
                <div className="guide-list-container">
                    <ul className="guide-list">
                        {Object.keys(guideData).map(id => {
                            const article = guideData[id as keyof typeof guideData];
                            return (
                                <li key={id} className="guide-item">
                                    <a href="#" onClick={(e) => { e.preventDefault(); showArticle(id); }}>{article.title}</a>
                                    <p>{article.summary}</p>
                                </li>
                            );
                        })}
                    </ul>
                </div>
            </div>
        </div>
    );
}